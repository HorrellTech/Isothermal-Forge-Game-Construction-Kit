background_color = rgb(96, 128, 96);

var o = object_add();

o.loop_begin = function()
{
    this.depth = f3d_depth(this.x, this.y, -96);
    this.width = 64;
    this.height = 64;   
    this.move_snap(64, 64);
}

o.loop_end = function()
{
    view_xview += 0.01;
}

o.loop = function()
{
    if(this.x + 64 < view_xview)
    {
        this.x = view_xview + view_wview + irandom(view_wview);
    }
}

o.draw = function()
{
    draw_set_color(c_white);
        f3d_draw_test_cube(this.x, this.y, this.x + 64, this.y + 64, 0, 64, false);
    draw_set_color(c_white);
    draw_set_color(c_red);
    f3d_draw_text(this.x, this.y, 96, round(this.depth));
}

for(var i = 0; i < 100; i += 1)
{
    instance_create(irandom(room_width), irandom(room_height), o);
}