background_color = rgb(96, 128, 96);

var o = object_add();

o.loop_begin = function()
{
    this.depth = f3d_depth(this.x, this.y, 96);
    this.width = 64;
    this.height = 64;   
    this.move_snap(64, 64);
}

o.loop_end = function()
{ 
    view_xview += 0.01;
    view_yview += 0.01;
} 
 
o.loop = function()
{
    if(this.x + 64 < view_xview)
    {
        this.x = view_xview + view_wview; //+ irandom(view_wview);
    }
    if(this.y + 64 < view_yview)
    {
        this.y = view_yview + view_hview; //+ irandom(view_hview);
    }
 
    if(this.mouse_over())
    {
        this.depth = 99999;
    } 

}

o.draw = function()
{
    draw_set_color(c_dkgray);
    f3d_draw_floor(this.x, this.y, this.x + 64, this.y + 64, 0);
    draw_set_color(c_white);
        f3d_draw_test_cube(this.x, this.y, this.x + 64, this.y + 64, pulse_positive(100, 128), 64, false);
    draw_set_color(c_white);
    draw_set_color(c_red);
    //f3d_draw_text(this.x, this.y, 96, round(this.depth));
}

for(var i = 0; i < 6 ; i += 1)
{
    for(var j = 0; j < 6; j += 1)
    {
        instance_create(i * 64, j * 64, o);
    }
}